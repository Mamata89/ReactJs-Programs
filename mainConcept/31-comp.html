<!DOCTYPE html>
<html lang="en">

<head>
    <title>Document</title>
    <style>
        ul {
            color: maroon;

        }

        h2 {
            color: maroon;

        }
    </style>
</head>

<body>
    <div id='root'></div>
    <script src='./js/react-development.js'></script>
    <script src='./js/reactDom-development.js'></script>
    <script src='./js/babel.js'></script>
    <script type='text/babel'>
        const roothandle = document.getElementById('root')
        class Userlist extends React.Component {
            constructor() {
                super()
                this.state = {
                    users: []
                }
            }
            componentDidMount() {
                const xhr = new XMLHttpRequest()
                xhr.open('GET', 'https://jsonplaceholder.typicode.com/users')
                xhr.send()
                xhr.onload = () => {
                    console.log(xhr.responseText)
                    const users = JSON.parse(xhr.responseText)
                    this.setState({ users })
                }
            }
            render() {
                return (
                    <div>
                        {this.state.users.length == 0 ? (<p>loading.....</p>) : (
                            <div>
                                <h2>listing users-{this.state.users.length}</h2>
                                <ul>
                                    {this.state.users.map(function (user) {
                                        return <li key={user.id}>{user.name}</li>
                                    })}
                                </ul>
                            </div>
                        )}
                    </div>
                )
            }
        }
        ReactDOM.render(<Userlist />, roothandle)
    </script>
</body>

</html>